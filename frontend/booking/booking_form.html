<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .booking-card {
            max-width: 600px;
            margin: 2rem auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header-img {
            background: linear-gradient(45deg, #ffc107, #ff9800);
            padding: 30px;
            text-align: center;
            color: #fff;
        }
        .nav-pills .nav-link.active {
            background-color: #ffc107;
            color: black;
            font-weight: bold;
        }
        .nav-pills .nav-link {
            color: #6c757d;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="card booking-card bg-white">
        <div class="header-img">
            <h1>üìÖ ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞</h1>
            <p class="mb-0">‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏î‡πá‡∏î (‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≤‡∏ô 90 ‡∏ô‡∏≤‡∏ó‡∏µ)</p>
        </div>

        <!-- Tabs Menu -->
        <div class="card-header bg-white border-bottom-0 pt-3 px-4">
            <ul class="nav nav-pills nav-fill p-1 bg-light rounded" id="myTab">
                <li class="nav-item">
                    <a class="nav-link active" onclick="switchTab('booking')">üìù ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏´‡∏°‡πà</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" onclick="switchTab('check')">üîç ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</a>
                </li>
            </ul>
        </div>

        <div class="card-body p-4">
            
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-danger shadow-sm">{{ message }}</div>
                {% endfor %}
              {% endif %}
            {% endwith %}

            <!-- ============================================= -->
            <!-- üÖøÔ∏è SECTION 1: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞ -->
            <!-- ============================================= -->
            <div id="bookingSection">
                <form action="/booking" method="POST">
                    <input type="hidden" name="branch_id" id="branchIdField" value="{{ branch_id }}">

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</label>
                            <input type="text" name="customer_name" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
                            <input type="tel" name="phone" class="form-control" placeholder="08x-xxx-xxxx" required>
                        </div>
                        <div class="col-12">
                            <label class="form-label fw-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô</label>
                            <input type="number" name="pax" class="form-control" value="2" min="1" max="20" required>
                            <small class="text-muted">*‡∏´‡∏≤‡∏Å‡∏°‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 20 ‡∏ó‡πà‡∏≤‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</small>
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</label>
                            <input type="date" name="booking_date" class="form-control" required id="dateInput">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">‡πÄ‡∏ß‡∏•‡∏≤</label>
                            <input type="time" name="booking_time" class="form-control" required>
                            <small class="text-muted" style="font-size: 0.75rem;">*‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏≠‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 10-15 ‡∏ô‡∏≤‡∏ó‡∏µ</small>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h6 class="fw-bold text-secondary">üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏ô‡∏à‡∏≠‡∏á (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</h6>
                        <div id="bookingStatusArea" class="p-3 bg-light rounded border text-center">
                            <small class="text-muted">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</small>
                        </div>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-warning btn-lg fw-bold text-dark shadow-sm">
                            ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á ‚úÖ
                        </button>
                    </div>
                </form>
            </div>

            <!-- ============================================= -->
            <!-- üîç SECTION 2: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
            <!-- ============================================= -->
            <div id="checkSection" style="display: none;">
                <div class="text-center mb-4">
                    <h5 class="fw-bold text-secondary">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏≠‡∏á</h5>
                    <p class="text-muted small">‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö</p>
                </div>

                <div class="row g-3 mb-3">
                    <div class="col-12">
                        <input type="text" id="checkNameInput" class="form-control form-control-lg text-center" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏°‡∏ä‡∏≤‡∏¢)">
                    </div>
                    <div class="col-12">
                        <input type="tel" id="checkPhoneInput" class="form-control form-control-lg text-center" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå">
                    </div>
                </div>

                <div class="d-grid">
                    <button class="btn btn-primary btn-lg fw-bold" type="button" onclick="checkMyBooking()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ üîé</button>
                </div>

                <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
                <div id="checkResultArea" class="mt-4"></div>
            </div>

        </div>
    </div>
</div>

<!-- ‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå JS ‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ -->
<!-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ path 'static/booking/booking.js' ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì -->
<script src="{{ url_for('static', filename='booking/booking.js') }}"></script>

</body>
</html>